<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="集合," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=5.1.0" />






<meta name="description" content="Java集合框架图  在集合框架图中，红色标记的为接口，蓝色标记的为重要的实现类 在Java集合中大致可分为四个体系：  Set，代表无序、不可重复的集合 List，代表有序、重复的集合 Map，代表具有映射关系的集合 Queue，代表队列集合">
<meta name="keywords" content="集合">
<meta property="og:type" content="article">
<meta property="og:title" content="Java集合框架">
<meta property="og:url" content="http://loyd.tech/2017/03/17/Java集合框架/index.html">
<meta property="og:site_name" content="Loyd">
<meta property="og:description" content="Java集合框架图  在集合框架图中，红色标记的为接口，蓝色标记的为重要的实现类 在Java集合中大致可分为四个体系：  Set，代表无序、不可重复的集合 List，代表有序、重复的集合 Map，代表具有映射关系的集合 Queue，代表队列集合">
<meta property="og:image" content="http://loyd.tech/media/Java集合框架/Java集合框架图.png">
<meta property="og:updated_time" content="2017-07-16T12:23:22.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java集合框架">
<meta name="twitter:description" content="Java集合框架图  在集合框架图中，红色标记的为接口，蓝色标记的为重要的实现类 在Java集合中大致可分为四个体系：  Set，代表无序、不可重复的集合 List，代表有序、重复的集合 Map，代表具有映射关系的集合 Queue，代表队列集合">
<meta name="twitter:image" content="http://loyd.tech/media/Java集合框架/Java集合框架图.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://loyd.tech/2017/03/17/Java集合框架/"/>





  <title>Java集合框架 | Loyd</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Loyd</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://loyd.tech/2017/03/17/Java集合框架/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Loyd Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/favicon.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Loyd">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java集合框架</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-17T11:22:29+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java基础/" itemprop="url" rel="index">
                    <span itemprop="name">Java基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Java集合框架图"><a href="#Java集合框架图" class="headerlink" title="Java集合框架图"></a>Java集合框架图</h1><p> <img src="/media/Java集合框架/Java集合框架图.png" alt="Java集合框架图"></p>
<p>在集合框架图中，红色标记的为接口，蓝色标记的为重要的实现类</p>
<p>在Java集合中大致可分为四个体系：</p>
<ul>
<li>Set，代表无序、不可重复的集合</li>
<li>List，代表有序、重复的集合</li>
<li>Map，代表具有映射关系的集合</li>
<li>Queue，代表队列集合</li>
</ul>
<a id="more"></a>
<h1 id="Iterator接口"><a href="#Iterator接口" class="headerlink" title="Iterator接口"></a>Iterator接口</h1><blockquote>
<p>Iterable是Collection接口的父接口，因此Collection集合可以直接调用Iterable中的方法。</p>
<p>Iterator主要用于迭访问Collection集合中的元素，Iterator对象也被称为迭代器</p>
</blockquote>
<p>下面为Iterable接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">forEach</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; action)</span> </span>&#123;</div><div class="line">        Objects.requireNonNull(action);</div><div class="line">        <span class="keyword">for</span> (T t : <span class="keyword">this</span>) &#123;</div><div class="line">            action.accept(t);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> Spliterator&lt;T&gt; <span class="title">spliterator</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> Spliterators.spliteratorUnknownSize(iterator(), <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Iterable接口中：</p>
<ul>
<li><p>第一个方法就是返回T类型元素的一个迭代器。</p>
</li>
<li><p>下面的两个默认方法是Java 8新增的功能</p>
<ul>
<li><p>forEach方法所需的参数类型是一个函数式接口，可用Lambda表达式，用于对每个元素执行给定的动作指导</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionEach</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 创建一个集合</span></div><div class="line">		Collection c = <span class="keyword">new</span> HashSet();</div><div class="line">		c.add(<span class="string">"Map"</span>);</div><div class="line">		c.add(<span class="string">"Set"</span>);</div><div class="line">		c.add(<span class="string">"Queue"</span>);</div><div class="line">     	c.add(<span class="string">"List"</span>);</div><div class="line">		<span class="comment">// 调用forEach()方法遍历集合</span></div><div class="line">		c.forEach(obj -&gt; System.out.println(<span class="string">"迭代集合元素："</span> + obj));</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>spliterator方法实现从iterable的Iterator中创建一个早期绑定的spliterator</p>
</li>
</ul>
<p>Iterator接口隐藏了各种Collection实现类的底层细节，向应用程序提供了遍历Collection集合元素的统一编程接口，下面是Iterator接口的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="function">E <span class="title">next</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">"remove"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">forEachRemaining</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> E&gt; action)</span> </span>&#123;</div><div class="line">        Objects.requireNonNull(action);</div><div class="line">        <span class="keyword">while</span> (hasNext())</div><div class="line">            action.accept(next());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如上面代码所示，Iterator定义了四个方法：</p>
<ul>
<li>hasNext方法，如果被迭代的集合元素还没有被遍历完，则返回true</li>
<li>next方法，返回集合里的下一个元素</li>
<li>remove方法，删除集合里上一次next方法返回的元素</li>
<li>forEachRemaining方法，Java 8 新增，可使用Lambda表达式遍历元素</li>
</ul>
<p><strong>注意</strong>：当使用Iterator迭代访问Collection集合元素时，Collection集合里的元素不能被改变，只有通过Iterator的remove()方法删除上一次next()方法返回的集合元素才可以；否则将会引发异常。</p>
<h1 id="Collection接口"><a href="#Collection接口" class="headerlink" title="Collection接口"></a>Collection接口</h1><p>Collection接口是Set、List和Queue接口的父接口，下面是Collection接口的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt; </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;<span class="comment">//返回集合元素个数</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;<span class="comment">//返回集合是否为空</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span></span>;<span class="comment">//返回集合是否包含o</span></div><div class="line">    <span class="function">Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;<span class="comment">//返回对应的迭代器</span></div><div class="line">  	Object[] toArray();<span class="comment">//把集合转换成Object数组</span></div><div class="line">    &lt;T&gt; T[] toArray(T[] a);<span class="comment">//把集合转换成对应的数组 </span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span></span>;<span class="comment">//添加元素</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span></span>;<span class="comment">//删除元素</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span></span>;<span class="comment">//是否包含c里面的所有元素</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span></span>;<span class="comment">//将c中元素全部添加到指定集合</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span></span>;<span class="comment">//删除c中全部的元素</span></div><div class="line">  	<span class="comment">/*Java 8新增的方法，该方法将会批量删除符合filter条件的所有元素，该方法需要Predicate对象作为参数，同样也是函数式接口，可用Lambda表达式*/</span></div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">removeIf</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> E&gt; filter)</span> </span>&#123;</div><div class="line">        Objects.requireNonNull(filter);</div><div class="line">        <span class="keyword">boolean</span> removed = <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">final</span> Iterator&lt;E&gt; each = iterator();</div><div class="line">        <span class="keyword">while</span> (each.hasNext()) &#123;</div><div class="line">            <span class="keyword">if</span> (filter.test(each.next())) &#123;</div><div class="line">                each.remove();</div><div class="line">                removed = <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> removed;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">retainAll</span><span class="params">(Collection&lt;?&gt; c)</span></span>;<span class="comment">//从集合中删除集合c里不包含的元素</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>;<span class="comment">//清空</span></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;<span class="comment">//返回hashCode值</span></div><div class="line">    <span class="function"><span class="keyword">default</span> Spliterator&lt;E&gt; <span class="title">spliterator</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> Spliterators.spliterator(<span class="keyword">this</span>, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">  	<span class="comment">/*返回集合对应的流，可通过流式API操作集合元素*/</span></div><div class="line">    <span class="function"><span class="keyword">default</span> Stream&lt;E&gt; <span class="title">stream</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> StreamSupport.stream(spliterator(), <span class="keyword">false</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">default</span> Stream&lt;E&gt; <span class="title">parallelStream</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> StreamSupport.stream(spliterator(), <span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下面程序示范使用Predicate来过滤集合。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PredicateTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		Collection c = <span class="keyword">new</span> HashSet();</div><div class="line">		c.add(<span class="keyword">new</span> String(<span class="string">"123456789101112"</span>));</div><div class="line">		c.add(<span class="keyword">new</span> String(<span class="string">"12345678"</span>));</div><div class="line">		c.add(<span class="keyword">new</span> String(<span class="string">"123456789"</span>));</div><div class="line">		c.add(<span class="keyword">new</span> String(<span class="string">"123456"</span>));</div><div class="line">		c.add(<span class="keyword">new</span> String(<span class="string">"112233445566"</span>));</div><div class="line">		<span class="comment">// 使用Lambda表达式（目标类型是Predicate）过滤集合</span></div><div class="line">		books.removeIf(ele -&gt; ((String)ele).length() &lt; <span class="number">10</span>);</div><div class="line">		System.out.println(books);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用Predicate可以充分简化集合的运算，假设有books集合，如果程序有如下三个统计需求：</p>
<ul>
<li>统计书名中出现“数据”字符串的图书数量</li>
<li>统计书名中出现“Java”字符串的图书数量</li>
<li>统计书名长度大于10的图书数量</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">import</span> java.util.function.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PredicateTest2</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 创建books集合、为books集合添加元素的代码与前一个程序相同。</span></div><div class="line">		Collection books = <span class="keyword">new</span> HashSet();</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"轻量级Java EE企业应用实战"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"疯狂Java讲义"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"深入Java虚拟机"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"数据挖掘"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"数据结构与算法分析"</span>));</div><div class="line">		<span class="comment">// 统计书名包含“疯狂”子串的图书数量</span></div><div class="line">		System.out.println(calAll(books , ele-&gt;((String)ele).contains(<span class="string">"数据"</span>)));</div><div class="line">		<span class="comment">// 统计书名包含“Java”子串的图书数量</span></div><div class="line">		System.out.println(calAll(books , ele-&gt;((String)ele).contains(<span class="string">"Java"</span>)));</div><div class="line">		<span class="comment">// 统计书名字符串长度大于10的图书数量</span></div><div class="line">		System.out.println(calAll(books , ele-&gt;((String)ele).length() &gt; <span class="number">10</span>));</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calAll</span><span class="params">(Collection books , Predicate p)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> total = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (Object obj : books)</div><div class="line">		&#123;</div><div class="line">			<span class="comment">// 使用Predicate的test()方法判断该对象是否满足Predicate指定的条件</span></div><div class="line">			<span class="keyword">if</span> (p.test(obj))</div><div class="line">			&#123;</div><div class="line">				total ++;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> total;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下面的例子使用Stream来改写上一个例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">import</span> java.util.function.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionStream</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 创建books集合、为books集合添加元素的代码与8.2.5小节的程序相同。</span></div><div class="line">		Collection books = <span class="keyword">new</span> HashSet();</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"轻量级Java EE企业应用实战"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"疯狂Java讲义"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"深入Java虚拟机"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"数据挖掘"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"数据结构与算法分析"</span>));</div><div class="line">		<span class="comment">// 统计书名包含“疯狂”子串的图书数量</span></div><div class="line">		System.out.println(books.stream()</div><div class="line">			.filter(ele-&gt;((String)ele).contains(<span class="string">"数据"</span>))</div><div class="line">			.count()); <span class="comment">// 输出4</span></div><div class="line">		<span class="comment">// 统计书名包含“Java”子串的图书数量</span></div><div class="line">		System.out.println(books.stream()</div><div class="line">			.filter(ele-&gt;((String)ele).contains(<span class="string">"Java"</span>) )</div><div class="line">			.count()); <span class="comment">// 输出2</span></div><div class="line">		<span class="comment">// 统计书名字符串长度大于10的图书数量</span></div><div class="line">		System.out.println(books.stream()</div><div class="line">			.filter(ele-&gt;((String)ele).length() &gt; <span class="number">10</span>)</div><div class="line">			.count()); <span class="comment">// 输出2</span></div><div class="line">		<span class="comment">// 先调用Collection对象的stream()方法将集合转换为Stream,</span></div><div class="line">		<span class="comment">// 再调用Stream的mapToInt()方法获取原有的Stream对应的IntStream</span></div><div class="line">		books.stream().mapToInt(ele -&gt; ((String)ele).length())</div><div class="line">			<span class="comment">// 调用forEach()方法遍历IntStream中每个元素</span></div><div class="line">			.forEach(System.out::println);<span class="comment">// 输出8  11  16  7  8</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Set集合"><a href="#Set集合" class="headerlink" title="Set集合"></a>Set集合</h1><h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h2><p>HashSet具有以下特点：</p>
<ul>
<li>不能保证元素的排列顺序，顺序可能与添加顺序不同，顺序也可能发生变化</li>
<li>HashSet不是同步的，如果多个线程同时访问一个HashSet，假设有两个或两个以上线程同时修改了HashSet集合时，必须通过代码保证其同步</li>
<li>集合元素值可以是null</li>
</ul>
<p>hashCode()方法可以获得该对象的hashCode值，通过这个值决定该对象在HashCode中的存储位置。</p>
<p>equals()方法判断两个对象是否相等。</p>
<p>当把一个对象放入HashSet中时，如果需要重写该对象对应类的equals()方法，则也应该重写其hashCode()方法，规则是两个对象通过equals()方法比较返回true，这两个对象的hashCode值也相等。</p>
<p>重写hashCode方法的基本规则：</p>
<ul>
<li>在程序运行过程中，同一个对象多次调用hashCode()返回相同的值</li>
<li>当两个对象通过equals()方法返回true，这两个对象的hashCode值也应该相等</li>
<li>对象中用作equals()方法比较标准的实例变量，都应该用于计算hashCode值</li>
</ul>
<p>下面程序分别提供了三个类A、B和C，它们分别重写了equals()、和hashCode()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 类B的hashCode()方法总是返回1，但没有重写其equals()方法</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 类C的hashCode()方法总是返回2，且重写其equals()方法总是返回true</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSetTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		HashSet books = <span class="keyword">new</span> HashSet();</div><div class="line">		<span class="comment">// 分别向books集合中添加两个A对象，两个B对象，两个C对象</span></div><div class="line">		books.add(<span class="keyword">new</span> A());</div><div class="line">		books.add(<span class="keyword">new</span> A());</div><div class="line">		books.add(<span class="keyword">new</span> B());</div><div class="line">		books.add(<span class="keyword">new</span> B());</div><div class="line">		books.add(<span class="keyword">new</span> C());</div><div class="line">		books.add(<span class="keyword">new</span> C());</div><div class="line">		System.out.println(books);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出结果为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[B@<span class="number">1</span>,B@<span class="number">1</span>,C@<span class="number">2</span>,A@<span class="number">5483</span>cd,A@<span class="number">9931f</span>5]</div></pre></td></tr></table></figure>
<h2 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h2><p>LinkedHashSet同时使用链表维护元素的次序，这样使得元素看起来是以插入的顺序保存的</p>
<p>LinkedHashSet需要维护元素的插入顺序，因此性能略低于HashSet的性能，但在迭代器访问Set里面的全部元素时将有很好的性能，因为它以链表来维护内部顺序</p>
<p>输出LinkedHashSet集合的元素时，元素顺序总与添加顺序一致，并且依然不允许集合元素重复，如下面代码所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedHashSetTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		LinkedHashSet books = <span class="keyword">new</span> LinkedHashSet();</div><div class="line">		books.add(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		books.add(<span class="string">"数据结构与算法分析"</span>);</div><div class="line">		System.out.println(books);</div><div class="line">		<span class="comment">// 删除 疯狂Java讲义</span></div><div class="line">		books.remove(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		<span class="comment">// 重新添加 疯狂Java讲义</span></div><div class="line">		books.add(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		System.out.println(books);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[疯狂Java讲义,数据结构与算法分析]</div><div class="line">[数据结构与算法分析,疯狂Java讲义]</div></pre></td></tr></table></figure>
<h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h2><p>TreeSet可以确保集合元素处于排序状态。与HashSet集合相比，TreeSet还提供了几个额外的方法</p>
<ul>
<li>Comparator comparator()</li>
<li>Object first()</li>
<li>Object last()</li>
<li>Object lower(Object e)</li>
<li>Object higher(Object e)</li>
<li>SortedSet subSet(Object fromElement,Object toElement)</li>
<li>SortedSet headSet(Object toElement)</li>
<li>SortedSet tailSet(Object fromElement)</li>
</ul>
<p>因为TreeSet是有序的，所以增加了访问第一个、前一个、后一个、最后一个元素的方法，并提供了三个从TreeSet中截取子TreeSet的方法</p>
<p><strong>1.自然排序</strong></p>
<p>TreeSet会调用集合元素的compareTo(Object obj)方法来比较元素之间的大小关系，然后将集合元素按升序排列，这种方式就是自然排序</p>
<p>如果希望TreeSet能正常工作，TreeSet只能添加同一种类型的元素</p>
<p>如果两个对象compareTo(Object obj)方法比较相等，即返回0，则新对象将无法添加到TreeSet集合中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Z</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> age;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Z</span><span class="params">(<span class="keyword">int</span> age)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>.age = age;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 重写equals()方法，总是返回true</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 重写了compareTo(Object obj)方法，总是返回1</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest2</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		TreeSet set = <span class="keyword">new</span> TreeSet();</div><div class="line">		Z z1 = <span class="keyword">new</span> Z(<span class="number">6</span>);</div><div class="line">		set.add(z1);</div><div class="line">		<span class="comment">// 第二次添加同一个对象，输出true，表明添加成功</span></div><div class="line">		System.out.println(set.add(z1));    <span class="comment">//①</span></div><div class="line">		<span class="comment">// 下面输出set集合，将看到有两个元素</span></div><div class="line">		System.out.println(set);</div><div class="line">		<span class="comment">// 修改set集合的第一个元素的age变量</span></div><div class="line">		 ((Z)(set.first())).age = <span class="number">9</span>;</div><div class="line">		<span class="comment">// 输出set集合的最后一个元素的age变量，将看到也变成了9</span></div><div class="line">		System.out.println(((Z)(set.last())).age);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>重写该对象对应类的equals()方法时，若equals()返回true，应保证该方法与compareTo(Object o)方法有一致的结果，即返回0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="comment">/**</span></div><div class="line"> * Description:</div><div class="line"> * &lt;br/&gt;网站: &lt;a href="http://www.crazyit.org"&gt;疯狂Java联盟&lt;/a&gt;</div><div class="line"> * &lt;br/&gt;Copyright (C), 2001-2016, Yeeku.H.Lee</div><div class="line"> * &lt;br/&gt;This program is protected by copyright laws.</div><div class="line"> * &lt;br/&gt;Program Name:</div><div class="line"> * &lt;br/&gt;Date:</div><div class="line"> * <span class="doctag">@author</span> Yeeku.H.Lee kongyeeku@163.com</div><div class="line"> * <span class="doctag">@version</span> 1.0</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">R</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> count;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">R</span><span class="params">(<span class="keyword">int</span> count)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>.count = count;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"R[count:"</span> + count + <span class="string">"]"</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 重写equals方法，根据count来判断是否相等</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span> == obj)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(obj != <span class="keyword">null</span> &amp;&amp; obj.getClass() == R.class)</div><div class="line">		&#123;</div><div class="line">			R r = (R)obj;</div><div class="line">			<span class="keyword">return</span> r.count == <span class="keyword">this</span>.count;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 重写compareTo方法，根据count来比较大小</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		R r = (R)obj;</div><div class="line">		<span class="keyword">return</span> count &gt; r.count ? <span class="number">1</span> :</div><div class="line">			count &lt; r.count ? -<span class="number">1</span> : <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest3</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		TreeSet ts = <span class="keyword">new</span> TreeSet();</div><div class="line">		ts.add(<span class="keyword">new</span> R(<span class="number">5</span>));</div><div class="line">		ts.add(<span class="keyword">new</span> R(-<span class="number">3</span>));</div><div class="line">		ts.add(<span class="keyword">new</span> R(<span class="number">9</span>));</div><div class="line">		ts.add(<span class="keyword">new</span> R(-<span class="number">2</span>));</div><div class="line">		<span class="comment">// 打印TreeSet集合，集合元素是有序排列的</span></div><div class="line">		System.out.println(ts);    <span class="comment">// ①</span></div><div class="line">		<span class="comment">// 取出第一个元素</span></div><div class="line">		R first = (R)ts.first();</div><div class="line">		<span class="comment">// 对第一个元素的count赋值</span></div><div class="line">		first.count = <span class="number">20</span>;</div><div class="line">		<span class="comment">// 取出最后一个元素</span></div><div class="line">		R last = (R)ts.last();</div><div class="line">		<span class="comment">// 对最后一个元素的count赋值，与第二个元素的count相同</span></div><div class="line">		last.count = -<span class="number">2</span>;</div><div class="line">		<span class="comment">// 再次输出将看到TreeSet里的元素处于无序状态，且有重复元素</span></div><div class="line">		System.out.println(ts);   <span class="comment">// ②</span></div><div class="line">		<span class="comment">// 删除实例变量被改变的元素，删除失败</span></div><div class="line">		System.out.println(ts.remove(<span class="keyword">new</span> R(-<span class="number">2</span>)));   <span class="comment">// ③</span></div><div class="line">		System.out.println(ts);</div><div class="line">		<span class="comment">// 删除实例变量没有被改变的元素，删除成功</span></div><div class="line">		System.out.println(ts.remove(<span class="keyword">new</span> R(<span class="number">5</span>)));    <span class="comment">// ④</span></div><div class="line">		System.out.println(ts);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>为了让程序更加健壮，推荐不要修改放入HashSet和TreeSet集合中元素的实例变量</p>
<p><strong>2.定制排序</strong></p>
<p>Comparator接口包含了一个int compare(T o1,T o2)方法，用于比较o1等于o2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">M</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> age;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">M</span><span class="params">(<span class="keyword">int</span> age)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>.age = age;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"M[age:"</span> + age + <span class="string">"]"</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest4</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 此处Lambda表达式的目标类型是Comparator</span></div><div class="line">		TreeSet ts = <span class="keyword">new</span> TreeSet((o1 , o2) -&gt;</div><div class="line">		&#123;</div><div class="line">			M m1 = (M)o1;</div><div class="line">			M m2 = (M)o2;</div><div class="line">			<span class="comment">// 根据M对象的age属性来决定大小，age越大，M对象反而越小</span></div><div class="line">			<span class="keyword">return</span> m1.age &gt; m2.age ? -<span class="number">1</span></div><div class="line">				: m1.age &lt; m2.age ? <span class="number">1</span> : <span class="number">0</span>;</div><div class="line">		&#125;);</div><div class="line">		ts.add(<span class="keyword">new</span> M(<span class="number">5</span>));</div><div class="line">		ts.add(<span class="keyword">new</span> M(-<span class="number">3</span>));</div><div class="line">		ts.add(<span class="keyword">new</span> M(<span class="number">9</span>));</div><div class="line">		System.out.println(ts);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[M [age:<span class="number">9</span>], M [age:<span class="number">5</span>], M [age:-<span class="number">3</span>]]</div></pre></td></tr></table></figure>
<h2 id="EnumSet"><a href="#EnumSet" class="headerlink" title="EnumSet"></a>EnumSet</h2><p>EnumSet是一个专门为枚举类设计的集合类，EnumSet中的所有元素都必须是指定枚举类型的枚举值，该枚举类型在创建时显示或隐式地指定。EnumSet也是有序的，EnumSet以枚举值在Enum类内的定义顺序来决定集合元素的顺序</p>
<p>EnumSet在内部以位向量的形式存储，这种存储形式非常紧凑高效，因此其占用内存很小，而且运行效率很好</p>
<p>EnumSet不允许加入null元素</p>
<p>EnumSet提供了如下的常用方法来创建EnumSet对：</p>
<ul>
<li>EnumSet allOf(Class elementType)</li>
<li>EnumSet complementOf(EnumSet s)</li>
<li>EnumSet copyOf(Collection s)</li>
<li>EnumSet copyOf(EnumSet s)</li>
<li>EnumSet noneOf(Class elementType)</li>
<li>EnumSet of(E first,E … rest)</li>
<li>EnumSet range(E from,E to)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">enum</span> Season</div><div class="line">&#123;</div><div class="line">	SPRING,SUMMER,FALL,WINTER</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumSetTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 创建一个EnumSet集合，集合元素就是Season枚举类的全部枚举值</span></div><div class="line">		EnumSet es1 = EnumSet.allOf(Season.class);</div><div class="line">		System.out.println(es1); <span class="comment">// 输出[SPRING,SUMMER,FALL,WINTER]</span></div><div class="line">		<span class="comment">// 创建一个EnumSet空集合，指定其集合元素是Season类的枚举值。</span></div><div class="line">		EnumSet es2 = EnumSet.noneOf(Season.class);</div><div class="line">		System.out.println(es2); <span class="comment">// 输出[]</span></div><div class="line">		<span class="comment">// 手动添加两个元素</span></div><div class="line">		es2.add(Season.WINTER);</div><div class="line">		es2.add(Season.SPRING);</div><div class="line">		System.out.println(es2); <span class="comment">// 输出[SPRING,WINTER]</span></div><div class="line">		<span class="comment">// 以指定枚举值创建EnumSet集合</span></div><div class="line">		EnumSet es3 = EnumSet.of(Season.SUMMER , Season.WINTER);</div><div class="line">		System.out.println(es3); <span class="comment">// 输出[SUMMER,WINTER]</span></div><div class="line">		EnumSet es4 = EnumSet.range(Season.SUMMER , Season.WINTER);</div><div class="line">		System.out.println(es4); <span class="comment">// 输出[SUMMER,FALL,WINTER]</span></div><div class="line">		<span class="comment">// 新创建的EnumSet集合的元素和es4集合的元素有相同类型，</span></div><div class="line">		<span class="comment">// es5的集合元素 + es4集合元素 = Season枚举类的全部枚举值</span></div><div class="line">		EnumSet es5 = EnumSet.complementOf(es4);</div><div class="line">		System.out.println(es5); <span class="comment">// 输出[SPRING]</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当复制Collection集合中的所有元素来创建新的EnumSet集合时，要求Collection集合中的所有元素必须是同一个枚举类的枚举值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumSetTest2</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		Collection c = <span class="keyword">new</span> HashSet();</div><div class="line">		c.clear();</div><div class="line">		c.add(Season.FALL);</div><div class="line">		c.add(Season.SPRING);</div><div class="line">		<span class="comment">// 复制Collection集合中所有元素来创建EnumSet集合</span></div><div class="line">		EnumSet enumSet = EnumSet.copyOf(c);   <span class="comment">// ①</span></div><div class="line">		System.out.println(enumSet); <span class="comment">// 输出[SPRING,FALL]</span></div><div class="line">		c.add(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		c.add(<span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		<span class="comment">// 下面代码出现异常：因为c集合里的元素不是全部都为枚举值</span></div><div class="line">		enumSet = EnumSet.copyOf(c);  <span class="comment">// ②</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="各Set实现类的性能分析"><a href="#各Set实现类的性能分析" class="headerlink" title="各Set实现类的性能分析"></a>各Set实现类的性能分析</h2><p>1.HashSet的性能总是比TreeSet好，因为TreeSet需要额外的红黑树算法来维护集合元素的次序。只有需要一个保持排序的Set时，才使用TreeSet，否则使用HashSet</p>
<p>2.对于LinkedHashSet，对于普通的插入删除操作，它比HashSet略慢，这是由于维护链表所带来的额外开销造成的，但遍历LinkedHashSet会更快</p>
<p>3.EnumSet是所有Set实现类中性能最好的，但只能保存同一个枚举类的枚举值作为集合元素</p>
<h1 id="List集合"><a href="#List集合" class="headerlink" title="List集合"></a>List集合</h1><blockquote>
<p>List集合代表一个元素有序，可重复的集合，集合中每个元素都有其对应的顺序索引。List集合允许使用重复元素，可以通过索引来访问指定位置的集合元素。List集合默认按元素的添加顺序设置元素的索引，例如第一次添加的索引为0，第二次添加的元素索引为1……</p>
</blockquote>
<p>由于List是有序集合，因此List集合里增加了一些根据索引来操作集合元素的方法：</p>
<ul>
<li>void add(int index,Object element)</li>
<li>boolean addAll(int index,Collection c)</li>
<li>Object get(int index)</li>
<li>int indexOf(Object o)</li>
<li>int lastIndexIf(Object o)</li>
<li>Object remove(int index)</li>
<li>Object set(int index,Object element)</li>
<li>List subList(int fromIndex,int toIndex)</li>
<li>void replaceAll(UnaryOperator operator)</li>
<li>void sort(Comparator c)</li>
</ul>
<p>Java 8 为List集合增加了sort()和replaceAll()两个常用的默认方法</p>
<ul>
<li>sort()方法需要一个Comparator对象来控制元素排序</li>
<li>replaceAll()方法需要一个UnaryOperator来替换所有集合元素</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListTest3</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		List books = <span class="keyword">new</span> ArrayList();</div><div class="line">		<span class="comment">// 向books集合中添加4个元素</span></div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"轻量级Java EE企业应用实战"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"疯狂Java讲义"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"疯狂Android讲义"</span>));</div><div class="line">		books.add(<span class="keyword">new</span> String(<span class="string">"疯狂iOS讲义"</span>));</div><div class="line">		<span class="comment">// 使用目标类型为Comparator的Lambda表达式对List集合排序</span></div><div class="line">		books.sort((o1, o2)-&gt;((String)o1).length() - ((String)o2).length());</div><div class="line">		System.out.println(books);</div><div class="line">		<span class="comment">// 使用目标类型为UnaryOperator的Lambda表达式来替换集合中所有元素</span></div><div class="line">		<span class="comment">// 该Lambda表达式控制使用每个字符串的长度作为新的集合元素</span></div><div class="line">		books.replaceAll(ele-&gt;((String)ele).length());</div><div class="line">		System.out.println(books); <span class="comment">// 输出[7, 8, 11, 16]</span></div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>List还额外提供了一个listIterator()方法，该方法返回一个ListIterator对象，ListIterator接口继承了Iterator接口，并且增加了如下的方法：</p>
<ul>
<li>boolean hasPrevious()</li>
<li>Object previous()</li>
<li>void add(Object o)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIteratorTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		String[] books = &#123;</div><div class="line">			<span class="string">"疯狂Java讲义"</span>, <span class="string">"疯狂iOS讲义"</span>,</div><div class="line">			<span class="string">"轻量级Java EE企业应用实战"</span></div><div class="line">		&#125;;</div><div class="line">		List bookList = <span class="keyword">new</span> ArrayList();</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; books.length ; i++ )</div><div class="line">		&#123;</div><div class="line">			bookList.add(books[i]);</div><div class="line">		&#125;</div><div class="line">		ListIterator lit = bookList.listIterator();</div><div class="line">		<span class="keyword">while</span> (lit.hasNext())</div><div class="line">		&#123;</div><div class="line">			System.out.println(lit.next());</div><div class="line">			lit.add(<span class="string">"-------分隔符-------"</span>);</div><div class="line">		&#125;</div><div class="line">		System.out.println(<span class="string">"=======下面开始反向迭代======="</span>);</div><div class="line">		<span class="keyword">while</span>(lit.hasPrevious())</div><div class="line">		&#123;</div><div class="line">			System.out.println(lit.previous());</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ArrayList和Vector实现类"><a href="#ArrayList和Vector实现类" class="headerlink" title="ArrayList和Vector实现类"></a>ArrayList和Vector实现类</h2><blockquote>
<p>ArrayList和Vector类都是基于数组实现的List类，所以都封装了一个动态的，允许再分配的Object[]数组，都使用initialCapacity参数来设置该数组的长度</p>
<p>当需要添加大量元素时，可使用ensureCapacity(int minCapacity)方法一次性增加initialCapacity</p>
<p>如不指定，则initialCapacity默认长度为10</p>
</blockquote>
<p>ArratList和Vector提供了如下两个方法来重新分配Object[]数组：</p>
<ul>
<li>void ensureCapacity(int minCapacity)</li>
<li>void trimToSize()</li>
</ul>
<p>ArrayList是线程不安全的，Vector是线程安全的，即使如此，也不推荐使用Vector，可用Collections工具类，使ArrayList变成线程安全的</p>
<p>Stack类继承Vector，同样不推荐使用，如需使用“栈”，可用ArrayDeque</p>
<h2 id="固定长度的List"><a href="#固定长度的List" class="headerlink" title="固定长度的List"></a>固定长度的List</h2><blockquote>
<p>Arrays，一个操作数组的工具类，提供了asList(Object… a)方法，可以把一个数组或指定个数的对象转换成一个List集合，这个List集合是Arrays内部类ArrayList的实例</p>
<p>Arrays.ArrayList是一个固定长度的List集合，程序只能遍历访问该集合里的元素，不可增加删除该集合里的元素</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FixedSizeList</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		List fixedList = Arrays.asList(<span class="string">"疯狂Java讲义"</span></div><div class="line">			, <span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		<span class="comment">// 获取fixedList的实现类，将输出Arrays$ArrayList</span></div><div class="line">		System.out.println(fixedList.getClass());</div><div class="line">		<span class="comment">// 使用方法引用遍历集合元素</span></div><div class="line">		fixedList.forEach(System.out::println);</div><div class="line">		<span class="comment">// 试图增加、删除元素都会引发UnsupportedOperationException异常</span></div><div class="line">		fixedList.add(<span class="string">"疯狂Android讲义"</span>);</div><div class="line">		fixedList.remove(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="LinkedList实现类"><a href="#LinkedList实现类" class="headerlink" title="LinkedList实现类"></a>LinkedList实现类</h2><blockquote>
<p>LinkedList类是List接口的实现类—这意味着它是一个List集合，可以根据索引来随机访问集合中的元素。除此之外，LinkedList还实现了Deque接口，可以被当成双端队列来使用，因此可以被当成“栈”和“队列”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		LinkedList books = <span class="keyword">new</span> LinkedList();</div><div class="line">		<span class="comment">// 将字符串元素加入队列的尾部</span></div><div class="line">		books.offer(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		<span class="comment">// 将一个字符串元素加入栈的顶部</span></div><div class="line">		books.push(<span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		<span class="comment">// 将字符串元素添加到队列的头部（相当于栈的顶部）</span></div><div class="line">		books.offerFirst(<span class="string">"疯狂Android讲义"</span>);</div><div class="line">		<span class="comment">// 以List的方式（按索引访问的方式）来遍历集合元素</span></div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; books.size() ; i++ )</div><div class="line">		&#123;</div><div class="line">			System.out.println(<span class="string">"遍历中："</span> + books.get(i));</div><div class="line">		&#125;</div><div class="line">		<span class="comment">// 访问、并不删除栈顶的元素</span></div><div class="line">		System.out.println(books.peekFirst());</div><div class="line">		<span class="comment">// 访问、并不删除队列的最后一个元素</span></div><div class="line">		System.out.println(books.peekLast());</div><div class="line">		<span class="comment">// 将栈顶的元素弹出“栈”</span></div><div class="line">		System.out.println(books.pop());</div><div class="line">		<span class="comment">// 下面输出将看到队列中第一个元素被删除</span></div><div class="line">		System.out.println(books);</div><div class="line">		<span class="comment">// 访问、并删除队列的最后一个元素</span></div><div class="line">		System.out.println(books.pollLast());</div><div class="line">		<span class="comment">// 下面输出：[轻量级Java EE企业应用实战]</span></div><div class="line">		System.out.println(books);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面代码示范了LinkedList作为List集合、双端队列、栈的用法</p>
<h1 id="Queue集合"><a href="#Queue集合" class="headerlink" title="Queue集合"></a>Queue集合</h1><blockquote>
<p>Queue集合，模拟“队列”先进先出，对头保存在队列中存放时间最长的元素，队列的尾部保存在队列中存放时间最短的元素。新元素插入到队列尾部，访问元素操作会返回队列头部的元素</p>
</blockquote>
<p>Queue定义了如下几个方法：</p>
<ul>
<li>void add(Object e) 加入队尾</li>
<li>Object element() 获取对头不删</li>
<li>boolean offer(Object e) 加入对尾，若队列有容量限制，则比add更快</li>
<li>Object peek() 获取对头不删</li>
<li>Object poll()  获取对头删</li>
<li>Object remove()  获取对头删</li>
</ul>
<h2 id="PriorityQueue实现类"><a href="#PriorityQueue实现类" class="headerlink" title="PriorityQueue实现类"></a>PriorityQueue实现类</h2><blockquote>
<p>PriorityQueue保存队列元素顺序并不是按加入队列的顺序，而是按队列元素的大小进行重新排序</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PriorityQueueTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		PriorityQueue pq = <span class="keyword">new</span> PriorityQueue();</div><div class="line">		<span class="comment">// 下面代码依次向pq中加入四个元素</span></div><div class="line">		pq.offer(<span class="number">6</span>);</div><div class="line">		pq.offer(-<span class="number">3</span>);</div><div class="line">		pq.offer(<span class="number">20</span>);</div><div class="line">		pq.offer(<span class="number">18</span>);</div><div class="line">		<span class="comment">// 输出pq队列，并不是按元素的加入顺序排列</span></div><div class="line">		System.out.println(pq); <span class="comment">// 输出[-3, 6, 20, 18]</span></div><div class="line">		<span class="comment">// 访问队列第一个元素，其实就是队列中最小的元素：-3</span></div><div class="line">		System.out.println(pq.poll());</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看到上面的程序并没有很好地按照大小进行排序是受到toString方法的影响</p>
<p>同样可以自然排序和定制排序</p>
<h2 id="Deque接口与ArrayDeque实现类"><a href="#Deque接口与ArrayDeque实现类" class="headerlink" title="Deque接口与ArrayDeque实现类"></a>Deque接口与ArrayDeque实现类</h2><p>Deque接口是Queue接口的子接口，代表双端队列，下面是常用的方法</p>
<ul>
<li>void addFirst(Object e)</li>
<li>void addLast(Object e)</li>
<li>Iterator descendingIterator()</li>
<li>Object getFirsr()</li>
<li>Object getLast()</li>
<li>boolean offerFirst(Object e)</li>
<li>boolean offerLast(Object e)</li>
<li>Object peekFirst()</li>
<li>Object peekLast()</li>
<li>Object pollFirst()</li>
<li>Object pollLast()</li>
<li>Object pop()</li>
<li>void push(Object e)</li>
<li>Object removeFirst()</li>
<li>Object removeFirstOccurrence(Object o)</li>
<li>Object removeLast()</li>
<li>Object removeLastOccurrence(Object o)</li>
</ul>
<p>下面程序把ArrayList当成“栈”来使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDequeStack</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		ArrayDeque stack = <span class="keyword">new</span> ArrayDeque();</div><div class="line">		<span class="comment">// 依次将三个元素push入"栈"</span></div><div class="line">		stack.push(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		stack.push(<span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		stack.push(<span class="string">"疯狂Android讲义"</span>);</div><div class="line">		<span class="comment">// 输出：[疯狂Android讲义, 轻量级Java EE企业应用实战, 疯狂Java讲义]</span></div><div class="line">		System.out.println(stack);</div><div class="line">		<span class="comment">// 访问第一个元素，但并不将其pop出"栈"，输出：疯狂Android讲义</span></div><div class="line">		System.out.println(stack.peek());</div><div class="line">		<span class="comment">// 依然输出：[疯狂Android讲义, 疯狂Java讲义, 轻量级Java EE企业应用实战]</span></div><div class="line">		System.out.println(stack);</div><div class="line">		<span class="comment">// pop出第一个元素，输出：疯狂Android讲义</span></div><div class="line">		System.out.println(stack.pop());</div><div class="line">		<span class="comment">// 输出：[轻量级Java EE企业应用实战, 疯狂Java讲义]</span></div><div class="line">		System.out.println(stack);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下面程序把ArrayList当成“队”来使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDequeQueue</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		ArrayDeque queue = <span class="keyword">new</span> ArrayDeque();</div><div class="line">		<span class="comment">// 依次将三个元素加入队列</span></div><div class="line">		queue.offer(<span class="string">"疯狂Java讲义"</span>);</div><div class="line">		queue.offer(<span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		queue.offer(<span class="string">"疯狂Android讲义"</span>);</div><div class="line">		<span class="comment">// 输出：[疯狂Java讲义, 轻量级Java EE企业应用实战, 疯狂Android讲义]</span></div><div class="line">		System.out.println(queue);</div><div class="line">		<span class="comment">// 访问队列头部的元素，但并不将其poll出队列"栈"，输出：疯狂Java讲义</span></div><div class="line">		System.out.println(queue.peek());</div><div class="line">		<span class="comment">// 依然输出：[疯狂Java讲义, 轻量级Java EE企业应用实战, 疯狂Android讲义]</span></div><div class="line">		System.out.println(queue);</div><div class="line">		<span class="comment">// poll出第一个元素，输出：疯狂Java讲义</span></div><div class="line">		System.out.println(queue.poll());</div><div class="line">		<span class="comment">// 输出：[轻量级Java EE企业应用实战, 疯狂Android讲义]</span></div><div class="line">		System.out.println(queue);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="各种线性表的性能分析"><a href="#各种线性表的性能分析" class="headerlink" title="各种线性表的性能分析"></a>各种线性表的性能分析</h2><p>1.数组在随机访问时性能最好，链表在插入删除时有较好的性能</p>
<p>2.如果需要遍历List集合元素，对于ArrayList、Vector集合，应该使用随机访问方法(get)来遍历集合元素；对于LinkedList集合，则应采用Iterator迭代器来遍历集合</p>
<p>3.如果需要经常插入、删除操作，可使用LinkedList</p>
<p>4.可使用Collections将集合包装成线程安全的集合</p>
<h1 id="Map集合"><a href="#Map集合" class="headerlink" title="Map集合"></a>Map集合</h1><blockquote>
<p>Map用于保存具有映射关系的数据，因此Map集合里保存着两组值，一组值用于保存Map里的key，另外一组值用于保存Map里的value，key和value都可以是任何引用类型的数据，Map的key不可以重复</p>
</blockquote>
<ul>
<li>Map里的key集合Set集合里面的存储形式很像</li>
<li>Map里的value放在一起看，非常类似于一个List</li>
</ul>
<p>下面是Map集合的源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</div><div class="line">  </div><div class="line">  	<span class="function"><span class="keyword">boolean</span> <span class="title">containsKey</span><span class="params">(Object key)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function"><span class="keyword">boolean</span> <span class="title">containsValue</span><span class="params">(Object value)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function">V <span class="title">get</span><span class="params">(Object key)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function">V <span class="title">put</span><span class="params">(K key, V value)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function">V <span class="title">remove</span><span class="params">(Object key)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function"><span class="keyword">void</span> <span class="title">putAll</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function">Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function">Collection&lt;V&gt; <span class="title">values</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">  	Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet();</div><div class="line">    </div><div class="line">  	<span class="class"><span class="keyword">interface</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</div><div class="line">        <span class="function">K <span class="title">getKey</span><span class="params">()</span></span>;</div><div class="line">        <span class="function">V <span class="title">getValue</span><span class="params">()</span></span>;</div><div class="line">        <span class="function">V <span class="title">setValue</span><span class="params">(V value)</span></span>;</div><div class="line">        <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span></span>;</div><div class="line">        <span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">static</span> &lt;K extends Comparable&lt;? <span class="keyword">super</span> K&gt;, V&gt; Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparingByKey() &#123;</div><div class="line">            <span class="keyword">return</span> (Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</div><div class="line">                (c1, c2) -&gt; c1.getKey().compareTo(c2.getKey());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">static</span> &lt;K, V extends Comparable&lt;? <span class="keyword">super</span> V&gt;&gt; Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparingByValue() &#123;</div><div class="line">            <span class="keyword">return</span> (Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</div><div class="line">                (c1, c2) -&gt; c1.getValue().compareTo(c2.getValue());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">static</span> &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparingByKey(Comparator&lt;? <span class="keyword">super</span> K&gt; cmp) &#123;</div><div class="line">            Objects.requireNonNull(cmp);</div><div class="line">            <span class="keyword">return</span> (Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</div><div class="line">                (c1, c2) -&gt; cmp.compare(c1.getKey(), c2.getKey());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">static</span> &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparingByValue(Comparator&lt;? <span class="keyword">super</span> V&gt; cmp) &#123;</div><div class="line">            Objects.requireNonNull(cmp);</div><div class="line">            <span class="keyword">return</span> (Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</div><div class="line">                (c1, c2) -&gt; cmp.compare(c1.getValue(), c2.getValue());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">  	<span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">  	<span class="function"><span class="keyword">default</span> V <span class="title">getOrDefault</span><span class="params">(Object key, V defaultValue)</span> </span>&#123;</div><div class="line">        V v;</div><div class="line">        <span class="keyword">return</span> (((v = get(key)) != <span class="keyword">null</span>) || containsKey(key))</div><div class="line">            ? v</div><div class="line">            : defaultValue;</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">forEach</span><span class="params">(BiConsumer&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V&gt; action)</span> </span>&#123;</div><div class="line">        Objects.requireNonNull(action);</div><div class="line">        <span class="keyword">for</span> (Map.Entry&lt;K, V&gt; entry : entrySet()) &#123;</div><div class="line">            K k;</div><div class="line">            V v;</div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                k = entry.getKey();</div><div class="line">                v = entry.getValue();</div><div class="line">            &#125; <span class="keyword">catch</span>(IllegalStateException ise) &#123;</div><div class="line">                <span class="comment">// this usually means the entry is no longer in the map.</span></div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException(ise);</div><div class="line">            &#125;</div><div class="line">            action.accept(k, v);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">replaceAll</span><span class="params">(BiFunction&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V, ? extends V&gt; function)</span> </span>&#123;</div><div class="line">        Objects.requireNonNull(function);</div><div class="line">        <span class="keyword">for</span> (Map.Entry&lt;K, V&gt; entry : entrySet()) &#123;</div><div class="line">            K k;</div><div class="line">            V v;</div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                k = entry.getKey();</div><div class="line">                v = entry.getValue();</div><div class="line">            &#125; <span class="keyword">catch</span>(IllegalStateException ise) &#123;</div><div class="line">                <span class="comment">// this usually means the entry is no longer in the map.</span></div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException(ise);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="comment">// ise thrown from function is not a cme.</span></div><div class="line">            v = function.apply(k, v);</div><div class="line"></div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                entry.setValue(v);</div><div class="line">            &#125; <span class="keyword">catch</span>(IllegalStateException ise) &#123;</div><div class="line">                <span class="comment">// this usually means the entry is no longer in the map.</span></div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException(ise);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> V <span class="title">putIfAbsent</span><span class="params">(K key, V value)</span> </span>&#123;</div><div class="line">        V v = get(key);</div><div class="line">        <span class="keyword">if</span> (v == <span class="keyword">null</span>) &#123;</div><div class="line">            v = put(key, value);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> v;</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object key, Object value)</span> </span>&#123;</div><div class="line">        Object curValue = get(key);</div><div class="line">        <span class="keyword">if</span> (!Objects.equals(curValue, value) ||</div><div class="line">            (curValue == <span class="keyword">null</span> &amp;&amp; !containsKey(key))) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        remove(key);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">replace</span><span class="params">(K key, V oldValue, V newValue)</span> </span>&#123;</div><div class="line">        Object curValue = get(key);</div><div class="line">        <span class="keyword">if</span> (!Objects.equals(curValue, oldValue) ||</div><div class="line">            (curValue == <span class="keyword">null</span> &amp;&amp; !containsKey(key))) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        put(key, newValue);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> V <span class="title">replace</span><span class="params">(K key, V value)</span> </span>&#123;</div><div class="line">        V curValue;</div><div class="line">        <span class="keyword">if</span> (((curValue = get(key)) != <span class="keyword">null</span>) || containsKey(key)) &#123;</div><div class="line">            curValue = put(key, value);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> curValue;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">default</span> V <span class="title">computeIfAbsent</span><span class="params">(K key,</span></span></div><div class="line">            Function&lt;? <span class="keyword">super</span> K, ? extends V&gt; mappingFunction) &#123;</div><div class="line">        Objects.requireNonNull(mappingFunction);</div><div class="line">        V v;</div><div class="line">        <span class="keyword">if</span> ((v = get(key)) == <span class="keyword">null</span>) &#123;</div><div class="line">            V newValue;</div><div class="line">            <span class="keyword">if</span> ((newValue = mappingFunction.apply(key)) != <span class="keyword">null</span>) &#123;</div><div class="line">                put(key, newValue);</div><div class="line">                <span class="keyword">return</span> newValue;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> v;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">default</span> V <span class="title">computeIfPresent</span><span class="params">(K key,</span></span></div><div class="line">            BiFunction&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V, ? extends V&gt; remappingFunction) &#123;</div><div class="line">        Objects.requireNonNull(remappingFunction);</div><div class="line">        V oldValue;</div><div class="line">        <span class="keyword">if</span> ((oldValue = get(key)) != <span class="keyword">null</span>) &#123;</div><div class="line">            V newValue = remappingFunction.apply(key, oldValue);</div><div class="line">            <span class="keyword">if</span> (newValue != <span class="keyword">null</span>) &#123;</div><div class="line">                put(key, newValue);</div><div class="line">                <span class="keyword">return</span> newValue;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                remove(key);</div><div class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">default</span> V <span class="title">compute</span><span class="params">(K key,</span></span></div><div class="line">            BiFunction&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V, ? extends V&gt; remappingFunction) &#123;</div><div class="line">        Objects.requireNonNull(remappingFunction);</div><div class="line">        V oldValue = get(key);</div><div class="line"></div><div class="line">        V newValue = remappingFunction.apply(key, oldValue);</div><div class="line">        <span class="keyword">if</span> (newValue == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="comment">// delete mapping</span></div><div class="line">            <span class="keyword">if</span> (oldValue != <span class="keyword">null</span> || containsKey(key)) &#123;</div><div class="line">                <span class="comment">// something to remove</span></div><div class="line">                remove(key);</div><div class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">// nothing to do. Leave things as they were.</span></div><div class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">// add or replace old mapping</span></div><div class="line">            put(key, newValue);</div><div class="line">            <span class="keyword">return</span> newValue;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"> 	 <span class="function"><span class="keyword">default</span> V <span class="title">merge</span><span class="params">(K key, V value,</span></span></div><div class="line">            BiFunction&lt;? <span class="keyword">super</span> V, ? <span class="keyword">super</span> V, ? extends V&gt; remappingFunction) &#123;</div><div class="line">        Objects.requireNonNull(remappingFunction);</div><div class="line">        Objects.requireNonNull(value);</div><div class="line">        V oldValue = get(key);</div><div class="line">        V newValue = (oldValue == <span class="keyword">null</span>) ? value :</div><div class="line">                   remappingFunction.apply(oldValue, value);</div><div class="line">        <span class="keyword">if</span>(newValue == <span class="keyword">null</span>) &#123;</div><div class="line">            remove(key);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            put(key, newValue);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> newValue;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Map中包括一个内部类Entry，该类封装了一个key-value对，Entry包括如下方法：</p>
<ul>
<li>Object getKey()</li>
<li>Object getValue()</li>
<li>Object setValue(V value)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		Map map = <span class="keyword">new</span> HashMap();</div><div class="line">		<span class="comment">// 成对放入多个key-value对</span></div><div class="line">		map.put(<span class="string">"疯狂Java讲义"</span> , <span class="number">109</span>);</div><div class="line">		map.put(<span class="string">"疯狂iOS讲义"</span> , <span class="number">10</span>);</div><div class="line">		map.put(<span class="string">"疯狂Ajax讲义"</span> , <span class="number">79</span>);</div><div class="line">		<span class="comment">// 多次放入的key-value对中value可以重复</span></div><div class="line">		map.put(<span class="string">"轻量级Java EE企业应用实战"</span> , <span class="number">99</span>);</div><div class="line">		<span class="comment">// 放入重复的key时，新的value会覆盖原有的value</span></div><div class="line">		<span class="comment">// 如果新的value覆盖了原有的value，该方法返回被覆盖的value</span></div><div class="line">		System.out.println(map.put(<span class="string">"疯狂iOS讲义"</span> , <span class="number">99</span>)); <span class="comment">// 输出10</span></div><div class="line">		System.out.println(map); <span class="comment">// 输出的Map集合包含4个key-value对</span></div><div class="line">		<span class="comment">// 判断是否包含指定key</span></div><div class="line">		System.out.println(<span class="string">"是否包含值为 疯狂iOS讲义 key："</span></div><div class="line">			+ map.containsKey(<span class="string">"疯狂iOS讲义"</span>)); <span class="comment">// 输出true</span></div><div class="line">		<span class="comment">// 判断是否包含指定value</span></div><div class="line">		System.out.println(<span class="string">"是否包含值为 99 value："</span></div><div class="line">			+ map.containsValue(<span class="number">99</span>)); <span class="comment">// 输出true</span></div><div class="line">		<span class="comment">// 获取Map集合的所有key组成的集合，通过遍历key来实现遍历所有key-value对</span></div><div class="line">		<span class="keyword">for</span> (Object key : map.keySet() )</div><div class="line">		&#123;</div><div class="line">			<span class="comment">// map.get(key)方法获取指定key对应的value</span></div><div class="line">			System.out.println(key + <span class="string">"--&gt;"</span> + map.get(key));</div><div class="line">		&#125;</div><div class="line">		map.remove(<span class="string">"疯狂Ajax讲义"</span>); <span class="comment">// 根据key来删除key-value对。</span></div><div class="line">		System.out.println(map); <span class="comment">// 输出结果不再包含 疯狂Ajax讲义=79 的key-value对</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Java-8-为Map新增的方法"><a href="#Java-8-为Map新增的方法" class="headerlink" title="Java 8 为Map新增的方法"></a>Java 8 为Map新增的方法</h2><p>Java 8 除了为Map增加了remove(Object key，Object value)默认方法之外，还增加了如下方法：</p>
<ul>
<li>Object compute(Object key,BiFunction remappingFunction)</li>
<li>Object computeIfAnsent(Object key,Function mappingFunction)</li>
<li>Object computeIfPresent(Object key,BiFunction remappingFunction)</li>
<li>void forEach(Biconsumer action)</li>
<li>Object getOrDefault(Object key,V defaultValue)</li>
<li>Object merge(Object key,Object value,BiFunction remapingFunction)</li>
<li>Object putIfAbsent(Object key,Object value)</li>
<li>Object replace(Object key,Object value)</li>
<li>replaceAll(BiFunction remappingFunction)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest2</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		Map map = <span class="keyword">new</span> HashMap();</div><div class="line">		<span class="comment">// 成对放入多个key-value对</span></div><div class="line">		map.put(<span class="string">"疯狂Java讲义"</span> , <span class="number">109</span>);</div><div class="line">		map.put(<span class="string">"疯狂iOS讲义"</span> , <span class="number">99</span>);</div><div class="line">		map.put(<span class="string">"疯狂Ajax讲义"</span> , <span class="number">79</span>);</div><div class="line">		<span class="comment">// 尝试替换key为"疯狂XML讲义"的value，由于原Map中没有对应的key，</span></div><div class="line">		<span class="comment">// 因此对Map没有改变，不会添加新的key-value对</span></div><div class="line">		map.replace(<span class="string">"疯狂XML讲义"</span> , <span class="number">66</span>);</div><div class="line">		System.out.println(map);</div><div class="line">		<span class="comment">// 使用原value与参数计算出来的结果覆盖原有的value</span></div><div class="line">		map.merge(<span class="string">"疯狂iOS讲义"</span> , <span class="number">10</span> ,</div><div class="line">			(oldVal , param) -&gt; (Integer)oldVal + (Integer)param);</div><div class="line">		System.out.println(map); <span class="comment">// "疯狂iOS讲义"的value增大了10</span></div><div class="line">		<span class="comment">// 当key为"Java"对应的value为null（或不存在时），使用计算的结果作为新value</span></div><div class="line">		map.computeIfAbsent(<span class="string">"Java"</span> , (key)-&gt;((String)key).length());</div><div class="line">		System.out.println(map); <span class="comment">// map中添加了 Java=4 这组key-value对</span></div><div class="line">		<span class="comment">// 当key为"Java"对应的value存在时，使用计算的结果作为新value</span></div><div class="line">		map.computeIfPresent(<span class="string">"Java"</span>,</div><div class="line">			(key , value) -&gt; (Integer)value * (Integer)value);</div><div class="line">		System.out.println(map); <span class="comment">// map中 Java=4 变成 Java=16</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Java-8改进的HashMap实现类"><a href="#Java-8改进的HashMap实现类" class="headerlink" title="Java 8改进的HashMap实现类"></a>Java 8改进的HashMap实现类</h2><p>Hahsmap可以使用null作为key或value</p>
<p>由于HashMap的key不能重复，所以最多只有一个key为null，可以有多个value为null</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NullInHashMap</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		HashMap hm = <span class="keyword">new</span> HashMap();</div><div class="line">		<span class="comment">// 试图将两个key为null的key-value对放入HashMap中</span></div><div class="line">		hm.put(<span class="keyword">null</span> , <span class="keyword">null</span>);</div><div class="line">		hm.put(<span class="keyword">null</span> , <span class="keyword">null</span>);    <span class="comment">// ①</span></div><div class="line">		<span class="comment">// 将一个value为null的key-value对放入HashMap中</span></div><div class="line">		hm.put(<span class="string">"a"</span> , <span class="keyword">null</span>);    <span class="comment">// ②</span></div><div class="line">		<span class="comment">// 输出Map对象</span></div><div class="line">		System.out.println(hm);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>判断两个key相等的标准是：</p>
<p>两个key通过equals()判断返回true，两个key的hashCode值也相等</p>
<p>如果使用可变对象作为HashMap的key，并且程序修改了作为key的可变对象，则可能出现程序再也无法准确访问到Map中被修改过的key</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMapErrorTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		HashMap ht = <span class="keyword">new</span> HashMap();</div><div class="line">		<span class="comment">// 此处的A类与前一个程序的A类是同一个类</span></div><div class="line">		ht.put(<span class="keyword">new</span> A(<span class="number">60000</span>) , <span class="string">"疯狂Java讲义"</span>);</div><div class="line">		ht.put(<span class="keyword">new</span> A(<span class="number">87563</span>) , <span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		<span class="comment">// 获得Hashtable的key Set集合对应的Iterator迭代器</span></div><div class="line">		Iterator it = ht.keySet().iterator();</div><div class="line">		<span class="comment">// 取出Map中第一个key，并修改它的count值</span></div><div class="line">		A first = (A)it.next();</div><div class="line">		first.count = <span class="number">87563</span>;   <span class="comment">// ①</span></div><div class="line">		<span class="comment">// 输出&#123;A@1560b=疯狂Java讲义, A@1560b=轻量级Java EE企业应用实战&#125;</span></div><div class="line">		System.out.println(ht);</div><div class="line">		<span class="comment">// 只能删除没有被修改过的key所对应的key-value对</span></div><div class="line">		ht.remove(<span class="keyword">new</span> A(<span class="number">87563</span>));</div><div class="line">		System.out.println(ht);</div><div class="line">		<span class="comment">// 无法获取剩下的value，下面两行代码都将输出null。</span></div><div class="line">		System.out.println(ht.get(<span class="keyword">new</span> A(<span class="number">87563</span>)));   <span class="comment">// ② 输出null</span></div><div class="line">		System.out.println(ht.get(<span class="keyword">new</span> A(<span class="number">60000</span>)));   <span class="comment">// ③ 输出null</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="LinkedHashMap实现类"><a href="#LinkedHashMap实现类" class="headerlink" title="LinkedHashMap实现类"></a>LinkedHashMap实现类</h2><p>LinkedHashMap也使用双向链表来维护Key-Value对的次序，该链表负责维护Map的迭代顺序，迭代顺序与key-value对的插入顺序保持一致，所以性能略低于HashMap的性能，但因为以链表来维护内部顺序，所以在迭代访问Map全部元素时将有较好的性能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedHashMapTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		LinkedHashMap scores = <span class="keyword">new</span> LinkedHashMap();</div><div class="line">		scores.put(<span class="string">"语文"</span> , <span class="number">80</span>);</div><div class="line">		scores.put(<span class="string">"英文"</span> , <span class="number">82</span>);</div><div class="line">		scores.put(<span class="string">"数学"</span> , <span class="number">76</span>);</div><div class="line">		<span class="comment">// 调用forEach方法遍历scores里的所有key-value对</span></div><div class="line">		scores.forEach((key, value) -&gt; System.out.println(key + <span class="string">"--&gt;"</span> + value));</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="使用Properties读写属性文件"><a href="#使用Properties读写属性文件" class="headerlink" title="使用Properties读写属性文件"></a>使用Properties读写属性文件</h2><p>Properties类在处理属性文件时特别方便，相当于一个ket、value都是String类型的Map:</p>
<ul>
<li>String getProperty(String key)</li>
<li>String getProperty(String key,String defaultValue)</li>
<li>Object setProperty(String key,String value)</li>
<li>void load(InputStream inStream)</li>
<li>void store(OutputStream out,String comments)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PropertiesTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">		<span class="keyword">throws</span> Exception</div><div class="line">	&#123;</div><div class="line">		Properties props = <span class="keyword">new</span> Properties();</div><div class="line">		<span class="comment">// 向Properties中增加属性</span></div><div class="line">		props.setProperty(<span class="string">"username"</span> , <span class="string">"yeeku"</span>);</div><div class="line">		props.setProperty(<span class="string">"password"</span> , <span class="string">"123456"</span>);</div><div class="line">		<span class="comment">// 将Properties中的key-value对保存到a.ini文件中</span></div><div class="line">		props.store(<span class="keyword">new</span> FileOutputStream(<span class="string">"a.ini"</span>)</div><div class="line">			, <span class="string">"comment line"</span>);   <span class="comment">//①</span></div><div class="line">		<span class="comment">// 新建一个Properties对象</span></div><div class="line">		Properties props2 = <span class="keyword">new</span> Properties();</div><div class="line">		<span class="comment">// 向Properties中增加属性</span></div><div class="line">		props2.setProperty(<span class="string">"gender"</span> , <span class="string">"male"</span>);</div><div class="line">		<span class="comment">// 将a.ini文件中的key-value对追加到props2中</span></div><div class="line">		props2.load(<span class="keyword">new</span> FileInputStream(<span class="string">"a.ini"</span>) );   <span class="comment">//②</span></div><div class="line">		System.out.println(props2);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="SortedMap接口和TreeMap实现类"><a href="#SortedMap接口和TreeMap实现类" class="headerlink" title="SortedMap接口和TreeMap实现类"></a>SortedMap接口和TreeMap实现类</h2><p>Map接口派生出SortedMap子接口，SortedMap接口有一个TreeMap实现类</p>
<p>TreeMap就是红黑树数据结构，同样可以自然排序和定制排序</p>
<p>重写compareTo()方法时，应保证两个key通过equals()方法比较返回true时，他们通过compareTo()方法比较应该返回0</p>
<p>TreeMap也提供了一系列根据key顺序访问key-value对的方法：</p>
<ul>
<li>Map.Entry firstEntry()</li>
<li>Object firstKey()</li>
<li>Map.Entry lastEntry()</li>
<li>Object lastKey()</li>
<li>Map.Entry higherEntry(Object key)</li>
<li>Object higherKey(Object key)</li>
<li>Map.Entry lowerEntry(Object key)</li>
<li>Object lowerKey(Object key)</li>
<li>Navigable subMap(Object fromKey,boolean fromInclusive,Object toKey,boolean toInclusive)</li>
<li>SortedMap subMap(Object fromKey,Object toKey)</li>
<li>SortedMap tailMap(Object fromKey)</li>
<li>Navigable tailMap(Object fromKey,boolean inclusive)</li>
<li>SortedMap headMap(Object toKey)</li>
<li>Navigable headMap(Object toKey,boolean inclusive)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">R</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> count;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">R</span><span class="params">(<span class="keyword">int</span> count)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>.count = count;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"R[count:"</span> + count + <span class="string">"]"</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 根据count来判断两个对象是否相等。</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span> == obj)</div><div class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">		<span class="keyword">if</span> (obj != <span class="keyword">null</span>	&amp;&amp; obj.getClass() == R.class)</div><div class="line">		&#123;</div><div class="line">			R r = (R)obj;</div><div class="line">			<span class="keyword">return</span> r.count == <span class="keyword">this</span>.count;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 根据count属性值来判断两个对象的大小。</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object obj)</span></span></div><div class="line">	&#123;</div><div class="line">		R r = (R)obj;</div><div class="line">		<span class="keyword">return</span> count &gt; r.count ? <span class="number">1</span> :</div><div class="line">			count &lt; r.count ? -<span class="number">1</span> : <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		TreeMap tm = <span class="keyword">new</span> TreeMap();</div><div class="line">		tm.put(<span class="keyword">new</span> R(<span class="number">3</span>) , <span class="string">"轻量级Java EE企业应用实战"</span>);</div><div class="line">		tm.put(<span class="keyword">new</span> R(-<span class="number">5</span>) , <span class="string">"疯狂Java讲义"</span>);</div><div class="line">		tm.put(<span class="keyword">new</span> R(<span class="number">9</span>) , <span class="string">"疯狂Android讲义"</span>);</div><div class="line">		System.out.println(tm);</div><div class="line">		<span class="comment">// 返回该TreeMap的第一个Entry对象</span></div><div class="line">		System.out.println(tm.firstEntry());</div><div class="line">		<span class="comment">// 返回该TreeMap的最后一个key值</span></div><div class="line">		System.out.println(tm.lastKey());</div><div class="line">		<span class="comment">// 返回该TreeMap的比new R(2)大的最小key值。</span></div><div class="line">		System.out.println(tm.higherKey(<span class="keyword">new</span> R(<span class="number">2</span>)));</div><div class="line">		<span class="comment">// 返回该TreeMap的比new R(2)小的最大的key-value对。</span></div><div class="line">		System.out.println(tm.lowerEntry(<span class="keyword">new</span> R(<span class="number">2</span>)));</div><div class="line">		<span class="comment">// 返回该TreeMap的子TreeMap</span></div><div class="line">		System.out.println(tm.subMap(<span class="keyword">new</span> R(-<span class="number">1</span>) , <span class="keyword">new</span> R(<span class="number">4</span>)));</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="WeakHashMap实现类"><a href="#WeakHashMap实现类" class="headerlink" title="WeakHashMap实现类"></a>WeakHashMap实现类</h2><p>WeakHashMap的key只保留了对实际对象的弱引用，这意味着如果weakHashMap对象的key所引用的对象没有被其他强引用变量所引用，则这些key所引用的对象可能被垃圾回收，weakHashMap也可能自动删除这些key所对应的key-value对</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeakHashMapTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		WeakHashMap whm = <span class="keyword">new</span> WeakHashMap();</div><div class="line">		<span class="comment">// 将WeakHashMap中添加三个key-value对，</span></div><div class="line">		<span class="comment">// 三个key都是匿名字符串对象（没有其他引用）</span></div><div class="line">		whm.put(<span class="keyword">new</span> String(<span class="string">"语文"</span>) , <span class="keyword">new</span> String(<span class="string">"良好"</span>));</div><div class="line">		whm.put(<span class="keyword">new</span> String(<span class="string">"数学"</span>) , <span class="keyword">new</span> String(<span class="string">"及格"</span>));</div><div class="line">		whm.put(<span class="keyword">new</span> String(<span class="string">"英文"</span>) , <span class="keyword">new</span> String(<span class="string">"中等"</span>));</div><div class="line">		<span class="comment">//将 WeakHashMap中添加一个key-value对，</span></div><div class="line">		<span class="comment">// 该key是一个系统缓存的字符串对象。</span></div><div class="line">		whm.put(<span class="string">"java"</span> , <span class="keyword">new</span> String(<span class="string">"中等"</span>));    <span class="comment">// ①</span></div><div class="line">		<span class="comment">// 输出whm对象，将看到4个key-value对。</span></div><div class="line">		System.out.println(whm);</div><div class="line">		<span class="comment">// 通知系统立即进行垃圾回收</span></div><div class="line">		System.gc();</div><div class="line">		System.runFinalization();</div><div class="line">		<span class="comment">// 通常情况下，将只看到一个key-value对。</span></div><div class="line">		System.out.println(whm);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="IdentityHashMap实现类"><a href="#IdentityHashMap实现类" class="headerlink" title="IdentityHashMap实现类"></a>IdentityHashMap实现类</h2><p>在IdentityHashMap中，当且仅当两个key严格相等（key1 == key2）时，IdentityHashMap才认为两个key相等；对于普通的HashMap，只需要equals()返回true且hashCode值相等即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IdentityHashMapTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		IdentityHashMap ihm = <span class="keyword">new</span> IdentityHashMap();</div><div class="line">		<span class="comment">// 下面两行代码将会向IdentityHashMap对象中添加两个key-value对</span></div><div class="line">		ihm.put(<span class="keyword">new</span> String(<span class="string">"语文"</span>) , <span class="number">89</span>);</div><div class="line">		ihm.put(<span class="keyword">new</span> String(<span class="string">"语文"</span>) , <span class="number">78</span>);</div><div class="line">		<span class="comment">// 下面两行代码只会向IdentityHashMap对象中添加一个key-value对</span></div><div class="line">		ihm.put(<span class="string">"java"</span> , <span class="number">93</span>);</div><div class="line">		ihm.put(<span class="string">"java"</span> , <span class="number">98</span>);</div><div class="line">		System.out.println(ihm);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="EnumMap实现类"><a href="#EnumMap实现类" class="headerlink" title="EnumMap实现类"></a>EnumMap实现类</h2><p>EnumMap有如下特征：</p>
<ul>
<li>EnumMap在内部以数组形式保存，所以这种实现形式非常紧凑、高效</li>
<li>EnumMap根据key的自然顺序(即枚举值在枚举类中的定义顺序)来维护key-value对的顺序</li>
<li>EnumMap不允许null作为key</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">enum</span> Season</div><div class="line">&#123;</div><div class="line">	SPRING,SUMMER,FALL,WINTER</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumMapTest</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 创建EnumMap对象，该EnumMap的所有key都是Season枚举类的枚举值</span></div><div class="line">		EnumMap enumMap = <span class="keyword">new</span> EnumMap(Season.class);</div><div class="line">		enumMap.put(Season.SUMMER , <span class="string">"夏日炎炎"</span>);</div><div class="line">		enumMap.put(Season.SPRING , <span class="string">"春暖花开"</span>);</div><div class="line">		System.out.println(enumMap);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="各Map实现类的性能分析"><a href="#各Map实现类的性能分析" class="headerlink" title="各Map实现类的性能分析"></a>各Map实现类的性能分析</h2><p>1.HashMap比HashTable要快</p>
<p>2.TreeMap通常比HashMap要慢，但TreeMap中的key-value总是有序状态。当TreeMap被填充后，就可以调用keySet()，取得由key组成的Set，然后使用toArray()方法生成key的数组，接下来使用Arrays的binarySearch()方法在已排序的数组中快速地查询对象</p>
<p>3.对于一般的应用场景，程序应多多考虑使用HashMap</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/集合/" rel="tag"># 集合</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/17/Hibernate对集合属性的操作/" rel="next" title="Hibernate对集合属性的操作">
                <i class="fa fa-chevron-left"></i> Hibernate对集合属性的操作
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/17/Hibernate基本查询/" rel="prev" title="Hibernate基本查询">
                Hibernate基本查询 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/favicon.png"
               alt="Loyd Chen" />
          <p class="site-author-name" itemprop="name">Loyd Chen</p>
           
              <p class="site-description motion-element" itemprop="description">Stay hungry,Stay foolish.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">40</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Java集合框架图"><span class="nav-number">1.</span> <span class="nav-text">Java集合框架图</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Iterator接口"><span class="nav-number">2.</span> <span class="nav-text">Iterator接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Collection接口"><span class="nav-number">3.</span> <span class="nav-text">Collection接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Set集合"><span class="nav-number">4.</span> <span class="nav-text">Set集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HashSet"><span class="nav-number">4.1.</span> <span class="nav-text">HashSet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LinkedHashSet"><span class="nav-number">4.2.</span> <span class="nav-text">LinkedHashSet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TreeSet"><span class="nav-number">4.3.</span> <span class="nav-text">TreeSet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EnumSet"><span class="nav-number">4.4.</span> <span class="nav-text">EnumSet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#各Set实现类的性能分析"><span class="nav-number">4.5.</span> <span class="nav-text">各Set实现类的性能分析</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#List集合"><span class="nav-number">5.</span> <span class="nav-text">List集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ArrayList和Vector实现类"><span class="nav-number">5.1.</span> <span class="nav-text">ArrayList和Vector实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#固定长度的List"><span class="nav-number">5.2.</span> <span class="nav-text">固定长度的List</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LinkedList实现类"><span class="nav-number">5.3.</span> <span class="nav-text">LinkedList实现类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Queue集合"><span class="nav-number">6.</span> <span class="nav-text">Queue集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PriorityQueue实现类"><span class="nav-number">6.1.</span> <span class="nav-text">PriorityQueue实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deque接口与ArrayDeque实现类"><span class="nav-number">6.2.</span> <span class="nav-text">Deque接口与ArrayDeque实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#各种线性表的性能分析"><span class="nav-number">6.3.</span> <span class="nav-text">各种线性表的性能分析</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Map集合"><span class="nav-number">7.</span> <span class="nav-text">Map集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-8-为Map新增的方法"><span class="nav-number">7.1.</span> <span class="nav-text">Java 8 为Map新增的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-8改进的HashMap实现类"><span class="nav-number">7.2.</span> <span class="nav-text">Java 8改进的HashMap实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LinkedHashMap实现类"><span class="nav-number">7.3.</span> <span class="nav-text">LinkedHashMap实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用Properties读写属性文件"><span class="nav-number">7.4.</span> <span class="nav-text">使用Properties读写属性文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SortedMap接口和TreeMap实现类"><span class="nav-number">7.5.</span> <span class="nav-text">SortedMap接口和TreeMap实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WeakHashMap实现类"><span class="nav-number">7.6.</span> <span class="nav-text">WeakHashMap实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IdentityHashMap实现类"><span class="nav-number">7.7.</span> <span class="nav-text">IdentityHashMap实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EnumMap实现类"><span class="nav-number">7.8.</span> <span class="nav-text">EnumMap实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#各Map实现类的性能分析"><span class="nav-number">7.9.</span> <span class="nav-text">各Map实现类的性能分析</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Loyd Chen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
